{"ast":null,"code":"var _jsxFileName = \"/Users/JJY/Desktop/react/dev/week-react-03/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\"; // axios import 합니다.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  // 새롭게 생성하는 todo를 관리하는 state\n  const [todo, setTodo] = useState({\n    id: 0,\n    title: \"\",\n    nickname: \"\",\n    content: \"\",\n    likes: 0,\n    createdAt: \"\",\n    updatedAt: \"\"\n  });\n  const [todos, setTodos] = useState(null);\n\n  const getApi = async () => {\n    const {\n      data\n    } = await axios.get(\"http://100.24.18.154:3000/postss\");\n    const data2 = data.post;\n    setTodos(data2);\n  }; // 새롭게 추가한 삭제 버튼 이벤트 핸들러\n\n\n  const onClickDeleteButtonHandler = async todoID => {\n    await axios.delete(`http://100.24.18.154:3000/postss/${todoID}`);\n  }; // 수정버튼이 벤트 핸들러 추가\n\n\n  const onClickEditButtonHandler = async (todoID, edit) => {\n    console.log(todoID, edit);\n    const [getTodo] = await todos.filter(todo => {\n      console.log(todo.id, Number(todoID));\n      return todo.id === Number(todoID);\n    });\n    console.log(getTodo);\n    await setTodo({ ...getTodo,\n      title: edit.title\n    });\n    console.log(todo);\n    await axios.patch(`http://100.24.18.154:3000/postss/${todoID}`, todo);\n    await console.log(todo);\n    getApi();\n  };\n\n  const dummyDB = () => {\n    axios.post(`http://100.24.18.154:3000/postss/`, todo);\n  };\n\n  useEffect(() => {\n    getApi();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"API \\uC5F0\\uACB0\\uD558\\uACE0 \\uC2F6\\uB2E4\", /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => dummyDB(),\n      children: \"\\uB354\\uBBF8 \\uB370\\uC774\\uD130 \\uB123\\uC5B4\\uBCF4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: targetID,\n        type: \"number\",\n        placeholder: \"\\uC218\\uC815\\uD558\\uACE0 \\uC2F6\\uC740 Todo ID\",\n        onChange: e => {\n          setTargetID(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: editTodo.title,\n        type: \"text\",\n        placeholder: \"\\uD0C0\\uC774\\uD2C0 \\uC218\\uC815\\uAC12 \\uC785\\uB825\",\n        onChange: e => {\n          setEditTodo({ ...editTodo,\n            title: e.target.value\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        // type='button'을 추가해야 form의 영향에서 벗어남\n        type: \"button\",\n        onClick: () => {\n          onClickEditButtonHandler(targetID, editTodo);\n          setTargetID(null);\n          setEditTodo({\n            title: \"\"\n          });\n        },\n        children: \"\\uC218\\uC815\\uD558\\uAE301\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => runEditHandler(targetID, todo),\n        children: \"\\uC218\\uC815\\uD558\\uAE302\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: todos === null || todos === void 0 ? void 0 : todos.map(todo => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"id: \", todo.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"title: \", todo.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"nickname: \", todo.nickname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"content: \", todo.content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"likes: \", todo.likes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"createdAt: \", todo.createdAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"updatedAt: \", todo.updatedAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => onClickDeleteButtonHandler(todo.id),\n          children: \"\\uC0AD\\uC81C\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, this)]\n      }, todo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this) // <div>\n  // \t\t<input\n  // \t\t\tvalue={todo.title}\n  // \t\t\ttype=\"text\"\n  // \t\t\tonChange={(e)=> {\n  // \t\t\t\tconst {value} = e.target;\n  // \t\t\t\tsetTodo({\n  // \t\t\t\t\t...todo, title: value\n  // \t\t\t\t})\n  // \t\t\t}}\n  // \t\t/>\n  // \t\t<button>추가하기</button>\n  // \t</form>\n  // \t<div>\n  // \t\t{todos?.map((todo)=> (\n  // \t\t\t<div key={todo.id}>\n  // \t\t\t\t{todo.title}\n  // \t\t\t\t{/* 디자인이 요상하긴 하지만, 삭제 버튼 추가! */}\n  // \t\t\t\t<button\n  // \t\t\t\t\ttype=\"button\"\n  // \t\t\t\t\tonClick={()=>onClickDeleteButtonHandler(todo.id)}\n  // \t\t\t\t>\n  // \t\t\t\t\t삭제하기\n  // \t\t\t\t</button>\n  // \t\t\t</div>\n  // \t\t))}\n  // \t</div>\n  // </div>\n  ;\n};\n\n_s(App, \"3mWsxhgm4mqcGP6smAqXbzEMNMA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","App","todo","setTodo","id","title","nickname","content","likes","createdAt","updatedAt","todos","setTodos","getApi","data","get","data2","post","onClickDeleteButtonHandler","todoID","delete","onClickEditButtonHandler","edit","console","log","getTodo","filter","Number","patch","dummyDB","targetID","e","setTargetID","target","value","editTodo","setEditTodo","runEditHandler","map"],"sources":["/Users/JJY/Desktop/react/dev/week-react-03/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport axios from \"axios\" // axios import 합니다.\n\nconst App = () => {\n\t// 새롭게 생성하는 todo를 관리하는 state\n\tconst [todo, setTodo] = useState({\n\t\tid: 0,\n\t\ttitle: \"\",\n\t\tnickname: \"\",\n\t\tcontent: \"\",\n\t\tlikes: 0,\n\t\tcreatedAt: \"\",\n\t\tupdatedAt: \"\"\n\t})\n\n\tconst [todos, setTodos] = useState(null)\n\n\tconst getApi = async () => {\n\t\tconst { data } = await axios.get(\"http://100.24.18.154:3000/postss\")\n\t\tconst data2 = data.post\n\n\t\tsetTodos(data2)\n\n\t}\n\t// 새롭게 추가한 삭제 버튼 이벤트 핸들러\n\tconst onClickDeleteButtonHandler = async (todoID) => {\n\t\tawait axios.delete(`http://100.24.18.154:3000/postss/${todoID}`)\n\t}\n\n\t// 수정버튼이 벤트 핸들러 추가\n\tconst onClickEditButtonHandler = async (todoID, edit) => {\n\t\t\n\t\tconsole.log(todoID, edit)\n\t\tconst [getTodo] = await todos.filter((todo)=> {\n\t\t\tconsole.log(todo.id, Number(todoID))\n\t\t\treturn todo.id === Number(todoID)\n\t\t})\n\t\tconsole.log(getTodo)\n\t\tawait setTodo({...getTodo, title: edit.title})\n\t\tconsole.log(todo)\n\t\tawait (axios.patch(`http://100.24.18.154:3000/postss/${todoID}`, todo))\n\t\tawait console.log(todo)\n\t\tgetApi()\n\t}\n\n\tconst dummyDB = () => {\n\t\taxios.post(`http://100.24.18.154:3000/postss/`, todo)\n\t}\n\n\tuseEffect(() => {\n\t\tgetApi()\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\tAPI 연결하고 싶다\n\t\t\t<button\n\t\t\t\tonClick={()=>dummyDB()}\n\t\t\t>\n\t\t\t\t더미 데이터 넣어보기\n\t\t\t</button>\n\t\t\t<form>\n\t\t\t\t{/* 수정기능에 필요한 id, 수정값 input 2개와 수정하기 버튼을 추가 */}\n\t\t\t\t<input\n\t\t\t\t\tvalue={targetID}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tplaceholder=\"수정하고 싶은 Todo ID\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetTargetID(e.target.value)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tvalue={editTodo.title}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"타이틀 수정값 입력\"\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetEditTodo({\n\t\t\t\t\t\t\t...editTodo, title: e.target.value\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<button\n\t\t\t\t\t// type='button'을 추가해야 form의 영향에서 벗어남\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClickEditButtonHandler(targetID, editTodo)\n\t\t\t\t\t\tsetTargetID(null)\n\t\t\t\t\t\tsetEditTodo({ title: \"\" })\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t수정하기1\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={()=>runEditHandler(targetID, todo)}\n\t\t\t\t>\n수정하기2\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t\t<div>\n\t\t\t\t{todos?.map((todo) => (\n\t\t\t\t\t<div key={todo.id}>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>id: {todo.id}</li>\n\t\t\t\t\t\t\t<li>title: {todo.title}</li>\n\t\t\t\t\t\t\t<li>nickname: {todo.nickname}</li>\n\t\t\t\t\t\t\t<li>content: {todo.content}</li>\n\t\t\t\t\t\t\t<li>likes: {todo.likes}</li>\n\t\t\t\t\t\t\t<li>createdAt: {todo.createdAt}</li>\n\t\t\t\t\t\t\t<li>updatedAt: {todo.updatedAt}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/* 디자인이 요상하긴 하지만, 삭제 버튼 추가! */}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => onClickDeleteButtonHandler(todo.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t삭제하기\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t\t// <div>\n\n\n\t\t// \t\t<input\n\t\t// \t\t\tvalue={todo.title}\n\t\t// \t\t\ttype=\"text\"\n\t\t// \t\t\tonChange={(e)=> {\n\t\t// \t\t\t\tconst {value} = e.target;\n\t\t// \t\t\t\tsetTodo({\n\t\t// \t\t\t\t\t...todo, title: value\n\t\t// \t\t\t\t})\n\t\t// \t\t\t}}\n\t\t// \t\t/>\n\t\t// \t\t<button>추가하기</button>\n\t\t// \t</form>\n\t\t// \t<div>\n\t\t// \t\t{todos?.map((todo)=> (\n\t\t// \t\t\t<div key={todo.id}>\n\t\t// \t\t\t\t{todo.title}\n\t\t// \t\t\t\t{/* 디자인이 요상하긴 하지만, 삭제 버튼 추가! */}\n\t\t// \t\t\t\t<button\n\t\t// \t\t\t\t\ttype=\"button\"\n\t\t// \t\t\t\t\tonClick={()=>onClickDeleteButtonHandler(todo.id)}\n\t\t// \t\t\t\t>\n\t\t// \t\t\t\t\t삭제하기\n\t\t// \t\t\t\t</button>\n\t\t// \t\t\t</div>\n\t\t// \t\t))}\n\t\t// \t</div>\n\t\t// </div>\n\t)\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}