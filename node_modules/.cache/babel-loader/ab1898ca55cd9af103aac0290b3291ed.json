{"ast":null,"code":"var _jsxFileName = \"/Users/JJY/Desktop/react/dev/week-react-03/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\"; // axios import 합니다.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  // 새롭게 생성하는 todo를 관리하는 state\n  const [todo, setTodo] = useState({\n    id: 0,\n    title: \"\",\n    nickname: \"\",\n    content: \"\",\n    likes: 0,\n    createdAt: \"\",\n    updatedAt: \"\"\n  });\n  const [todos, setTodos] = useState(null);\n\n  const getApi = async () => {\n    const {\n      data\n    } = await axios.get(\"http://100.24.18.154:3000/postss\");\n    const data2 = data.post;\n    setTodos(data2);\n  }; // 새롭게 추가한 삭제 버튼 이벤트 핸들러\n\n\n  const onClickDeleteButtonHandler = async todoID => {\n    await axios.delete(`http://100.24.18.154:3000/postss/${todoID}`);\n  }; // 수정버튼이 벤트 핸들러 추가\n\n\n  const onClickEditButtonHandler = async (todoID, edit) => {\n    console.log(todoID, edit);\n    const [getTodo] = await todos.filter(todo => {\n      console.log(todo.id, Number(todoID));\n      return todo.id === Number(todoID);\n    });\n    console.log(getTodo);\n    await setTodo({ ...getTodo,\n      title: edit.title\n    });\n    console.log(todo);\n    await axios.patch(`http://100.24.18.154:3000/postss/${todoID}`, todo);\n    await console.log(todo);\n    getApi();\n  };\n\n  const dummyDB = () => {\n    axios.post(`http://100.24.18.154:3000/postss/`, todo);\n  };\n\n  useEffect(() => {\n    getApi();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n};\n\n_s(App, \"3mWsxhgm4mqcGP6smAqXbzEMNMA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","App","todo","setTodo","id","title","nickname","content","likes","createdAt","updatedAt","todos","setTodos","getApi","data","get","data2","post","onClickDeleteButtonHandler","todoID","delete","onClickEditButtonHandler","edit","console","log","getTodo","filter","Number","patch","dummyDB"],"sources":["/Users/JJY/Desktop/react/dev/week-react-03/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport axios from \"axios\" // axios import 합니다.\n\nconst App = () => {\n\t// 새롭게 생성하는 todo를 관리하는 state\n\tconst [todo, setTodo] = useState({\n\t\tid: 0,\n\t\ttitle: \"\",\n\t\tnickname: \"\",\n\t\tcontent: \"\",\n\t\tlikes: 0,\n\t\tcreatedAt: \"\",\n\t\tupdatedAt: \"\"\n\t})\n\n\tconst [todos, setTodos] = useState(null)\n\n\tconst getApi = async () => {\n\t\tconst { data } = await axios.get(\"http://100.24.18.154:3000/postss\")\n\t\tconst data2 = data.post\n\n\t\tsetTodos(data2)\n\n\t}\n\t// 새롭게 추가한 삭제 버튼 이벤트 핸들러\n\tconst onClickDeleteButtonHandler = async (todoID) => {\n\t\tawait axios.delete(`http://100.24.18.154:3000/postss/${todoID}`)\n\t}\n\n\t// 수정버튼이 벤트 핸들러 추가\n\tconst onClickEditButtonHandler = async (todoID, edit) => {\n\t\t\n\t\tconsole.log(todoID, edit)\n\t\tconst [getTodo] = await todos.filter((todo)=> {\n\t\t\tconsole.log(todo.id, Number(todoID))\n\t\t\treturn todo.id === Number(todoID)\n\t\t})\n\t\tconsole.log(getTodo)\n\t\tawait setTodo({...getTodo, title: edit.title})\n\t\tconsole.log(todo)\n\t\tawait (axios.patch(`http://100.24.18.154:3000/postss/${todoID}`, todo))\n\t\tawait console.log(todo)\n\t\tgetApi()\n\t}\n\n\tconst dummyDB = () => {\n\t\taxios.post(`http://100.24.18.154:3000/postss/`, todo)\n\t}\n\n\tuseEffect(() => {\n\t\tgetApi()\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default App;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAA0B;;;;AAE1B,MAAMC,GAAG,GAAG,MAAM;EAAA;;EACjB;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC;IAChCK,EAAE,EAAE,CAD4B;IAEhCC,KAAK,EAAE,EAFyB;IAGhCC,QAAQ,EAAE,EAHsB;IAIhCC,OAAO,EAAE,EAJuB;IAKhCC,KAAK,EAAE,CALyB;IAMhCC,SAAS,EAAE,EANqB;IAOhCC,SAAS,EAAE;EAPqB,CAAD,CAAhC;EAUA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAD,CAAlC;;EAEA,MAAMc,MAAM,GAAG,YAAY;IAC1B,MAAM;MAAEC;IAAF,IAAW,MAAMd,KAAK,CAACe,GAAN,CAAU,kCAAV,CAAvB;IACA,MAAMC,KAAK,GAAGF,IAAI,CAACG,IAAnB;IAEAL,QAAQ,CAACI,KAAD,CAAR;EAEA,CAND,CAdiB,CAqBjB;;;EACA,MAAME,0BAA0B,GAAG,MAAOC,MAAP,IAAkB;IACpD,MAAMnB,KAAK,CAACoB,MAAN,CAAc,oCAAmCD,MAAO,EAAxD,CAAN;EACA,CAFD,CAtBiB,CA0BjB;;;EACA,MAAME,wBAAwB,GAAG,OAAOF,MAAP,EAAeG,IAAf,KAAwB;IAExDC,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAAoBG,IAApB;IACA,MAAM,CAACG,OAAD,IAAY,MAAMd,KAAK,CAACe,MAAN,CAAcxB,IAAD,IAAS;MAC7CqB,OAAO,CAACC,GAAR,CAAYtB,IAAI,CAACE,EAAjB,EAAqBuB,MAAM,CAACR,MAAD,CAA3B;MACA,OAAOjB,IAAI,CAACE,EAAL,KAAYuB,MAAM,CAACR,MAAD,CAAzB;IACA,CAHuB,CAAxB;IAIAI,OAAO,CAACC,GAAR,CAAYC,OAAZ;IACA,MAAMtB,OAAO,CAAC,EAAC,GAAGsB,OAAJ;MAAapB,KAAK,EAAEiB,IAAI,CAACjB;IAAzB,CAAD,CAAb;IACAkB,OAAO,CAACC,GAAR,CAAYtB,IAAZ;IACA,MAAOF,KAAK,CAAC4B,KAAN,CAAa,oCAAmCT,MAAO,EAAvD,EAA0DjB,IAA1D,CAAP;IACA,MAAMqB,OAAO,CAACC,GAAR,CAAYtB,IAAZ,CAAN;IACAW,MAAM;EACN,CAbD;;EAeA,MAAMgB,OAAO,GAAG,MAAM;IACrB7B,KAAK,CAACiB,IAAN,CAAY,mCAAZ,EAAgDf,IAAhD;EACA,CAFD;;EAIAJ,SAAS,CAAC,MAAM;IACfe,MAAM;EACN,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACC;IAAA;IAAA;IAAA;EAAA,QADD;AAKA,CAvDD;;GAAMZ,G;;KAAAA,G;AAyDN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}