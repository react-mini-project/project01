{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState={todo:{},isLoading:false,isSuccess:false,error:null};export var __getTodo=createAsyncThunk(\"todo/getTodo\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:3001/todos/\".concat(payload));case 3:data=_context.sent;return _context.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var __patchTodo=createAsyncThunk(\"todos/patchTodo\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload,thunkAPI){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.patch(\"http://localhost:3001/todos/\".concat(payload.id),payload);case 3:return _context2.abrupt(\"return\",thunkAPI.fulfillWithValue(payload));case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0));case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var todoSlice=createSlice({name:\"todo\",initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,__getTodo.pending,function(state){state.isLoading=true;// 네트워크 요청이 시작되면 로딩상태를 true로 변경합니다.\n}),_defineProperty(_extraReducers,__getTodo.fulfilled,function(state,action){state.isLoading=false;// 네트워크 요청이 끝났으니, false로 변경합니다.\nstate.todo=action.payload;// Store에 있는 todos에 서버에서 가져온 todos를 넣습니다.\n}),_defineProperty(_extraReducers,__getTodo.rejected,function(state,action){state.isLoading=false;// 에러가 발생했지만, 네트워크 요청이 끝났으니, false로 변경합니다.\nstate.error=action.payload;// catch 된 error 객체를 state.error에 넣습니다.\n}),_defineProperty(_extraReducers,__patchTodo.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,__patchTodo.fulfilled,function(state,action){state.isLoading=false;state.todo=_objectSpread(_objectSpread({},state.todo),{},{content:action.payload.content});}),_defineProperty(_extraReducers,__patchTodo.rejected,function(state,action){state.isLoading=false;state.error=action.payload;}),_extraReducers)});_objectDestructuringEmpty(todoSlice.actions);export{};export default todoSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","todo","isLoading","isSuccess","error","__getTodo","payload","thunkAPI","get","data","fulfillWithValue","rejectWithValue","__patchTodo","patch","id","todoSlice","name","reducers","extraReducers","pending","state","fulfilled","action","rejected","content","actions","reducer"],"sources":["/Users/JJY/Desktop/project01/src/redux/modules/todoSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n    todo: {},\n    isLoading: false,\n    isSuccess: false,\n    error: null,\n};\n\nexport const __getTodo = createAsyncThunk(\n    \"todo/getTodo\",\n    async (payload, thunkAPI) => {\n        try {\n            const data = await axios.get(`http://localhost:3001/todos/${payload}`);\n            return thunkAPI.fulfillWithValue(data.data);\n        } catch (error) {\n            return thunkAPI.rejectWithValue(error);\n        }\n    }\n);\nexport const __patchTodo = createAsyncThunk(\n    \"todos/patchTodo\",\n    async (payload, thunkAPI) => {\n      try {\n        await axios.patch(`http://localhost:3001/todos/${payload.id}`, payload);\n        return thunkAPI.fulfillWithValue(payload);\n      } catch (error) {\n        return thunkAPI.rejectWithValue(error);\n      }\n    }\n  );\n\nexport const todoSlice = createSlice({\n    name: \"todo\",\n    initialState,\n    reducers: {\n    },\n    extraReducers: {\n        [__getTodo.pending]: (state) => {\n            state.isLoading = true; // 네트워크 요청이 시작되면 로딩상태를 true로 변경합니다.\n        },\n        [__getTodo.fulfilled]: (state, action) => {\n            state.isLoading = false; // 네트워크 요청이 끝났으니, false로 변경합니다.\n            state.todo = action.payload; // Store에 있는 todos에 서버에서 가져온 todos를 넣습니다.\n        },\n        [__getTodo.rejected]: (state, action) => {\n            state.isLoading = false; // 에러가 발생했지만, 네트워크 요청이 끝났으니, false로 변경합니다.\n            state.error = action.payload; // catch 된 error 객체를 state.error에 넣습니다.\n        },\n        [__patchTodo.pending]: (state) => {\n            state.isLoading = true;\n        },\n        [__patchTodo.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.todo = {...state.todo, content: action.payload.content}\n        },\n        [__patchTodo.rejected]: (state, action) => {\n            state.isLoading = false;\n            state.error = action.payload;\n        },\n    },\n});\n\nexport const { } = todoSlice.actions;\nexport default todoSlice.reducer;"],"mappings":"onBAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,GAAMC,aAAY,CAAG,CACjBC,IAAI,CAAE,EADW,CAEjBC,SAAS,CAAE,KAFM,CAGjBC,SAAS,CAAE,KAHM,CAIjBC,KAAK,CAAE,IAJU,CAArB,CAOA,MAAO,IAAMC,UAAS,CAAGR,gBAAgB,CACrC,cADqC,4FAErC,iBAAOS,OAAP,CAAgBC,QAAhB,mKAE2BR,MAAK,CAACS,GAAN,uCAAyCF,OAAzC,EAF3B,QAEcG,IAFd,+CAGeF,QAAQ,CAACG,gBAAT,CAA0BD,IAAI,CAACA,IAA/B,CAHf,0FAKeF,QAAQ,CAACI,eAAT,aALf,sEAFqC,mEAAlC,CAWP,MAAO,IAAMC,YAAW,CAAGf,gBAAgB,CACvC,iBADuC,6FAEvC,kBAAOS,OAAP,CAAgBC,QAAhB,gKAEUR,MAAK,CAACc,KAAN,uCAA2CP,OAAO,CAACQ,EAAnD,EAAyDR,OAAzD,CAFV,yCAGWC,QAAQ,CAACG,gBAAT,CAA0BJ,OAA1B,CAHX,8FAKWC,QAAQ,CAACI,eAAT,cALX,uEAFuC,qEAApC,CAYP,MAAO,IAAMI,UAAS,CAAGjB,WAAW,CAAC,CACjCkB,IAAI,CAAE,MAD2B,CAEjChB,YAAY,CAAZA,YAFiC,CAGjCiB,QAAQ,CAAE,EAHuB,CAKjCC,aAAa,mDACRb,SAAS,CAACc,OADF,CACY,SAACC,KAAD,CAAW,CAC5BA,KAAK,CAAClB,SAAN,CAAkB,IAAlB,CAAwB;AAC3B,CAHQ,iCAIRG,SAAS,CAACgB,SAJF,CAIc,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACtCF,KAAK,CAAClB,SAAN,CAAkB,KAAlB,CAAyB;AACzBkB,KAAK,CAACnB,IAAN,CAAaqB,MAAM,CAAChB,OAApB,CAA6B;AAChC,CAPQ,iCAQRD,SAAS,CAACkB,QARF,CAQa,SAACH,KAAD,CAAQE,MAAR,CAAmB,CACrCF,KAAK,CAAClB,SAAN,CAAkB,KAAlB,CAAyB;AACzBkB,KAAK,CAAChB,KAAN,CAAckB,MAAM,CAAChB,OAArB,CAA8B;AACjC,CAXQ,iCAYRM,WAAW,CAACO,OAZJ,CAYc,SAACC,KAAD,CAAW,CAC9BA,KAAK,CAAClB,SAAN,CAAkB,IAAlB,CACH,CAdQ,iCAeRU,WAAW,CAACS,SAfJ,CAegB,SAACD,KAAD,CAAQE,MAAR,CAAmB,CACxCF,KAAK,CAAClB,SAAN,CAAkB,KAAlB,CACAkB,KAAK,CAACnB,IAAN,gCAAiBmB,KAAK,CAACnB,IAAvB,MAA6BuB,OAAO,CAAEF,MAAM,CAAChB,OAAP,CAAekB,OAArD,GACH,CAlBQ,iCAmBRZ,WAAW,CAACW,QAnBJ,CAmBe,SAACH,KAAD,CAAQE,MAAR,CAAmB,CACvCF,KAAK,CAAClB,SAAN,CAAkB,KAAlB,CACAkB,KAAK,CAAChB,KAAN,CAAckB,MAAM,CAAChB,OAArB,CACH,CAtBQ,iBALoB,CAAD,CAA7B,CA+BA,0BAAYS,SAAS,CAACU,OAAtB,E,SACP,cAAeV,UAAS,CAACW,OAAzB"},"metadata":{},"sourceType":"module"}