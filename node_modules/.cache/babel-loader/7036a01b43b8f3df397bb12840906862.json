{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JJY/Desktop/project01/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState={todos:[],isLoading:false,isSuccess:false,error:null};export var __getTodos=createAsyncThunk(\"todos/getTodos\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:3001/todos\");case 3:data=_context.sent;return _context.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var __addTodo=createAsyncThunk(\"todos/addTodo\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"http://localhost:3001/todos\",payload);case 3:data=_context2.sent;return _context2.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0));case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var __deleteTodo=createAsyncThunk(\"todos/deleteTodo\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(payload,thunkAPI){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"http://localhost:3001/todos/\".concat(payload));case 3:return _context3.abrupt(\"return\",thunkAPI.fulfillWithValue(payload));case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",thunkAPI.rejectWithValue(_context3.t0));case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var todosSlice=createSlice({name:\"todos\",initialState:initialState,reducers:{clearTodo:function clearTodo(state,action){state.isSuccess=true;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,__getTodos.pending,function(state){state.isLoading=true;// 네트워크 요청이 시작되면 로딩상태를 true로 변경합니다.\n}),_defineProperty(_extraReducers,__getTodos.fulfilled,function(state,action){state.isLoading=false;// 네트워크 요청이 끝났으니, false로 변경합니다.\nstate.todos=action.payload;// Store에 있는 todos에 서버에서 가져온 todos를 넣습니다.\n}),_defineProperty(_extraReducers,__getTodos.rejected,function(state,action){state.isLoading=false;// 에러가 발생했지만, 네트워크 요청이 끝났으니, false로 변경합니다.\nstate.error=action.payload;// catch 된 error 객체를 state.error에 넣습니다.\n}),_defineProperty(_extraReducers,__addTodo.pending,function(state){state.isLoading=true;state.isSuccess=false;}),_defineProperty(_extraReducers,__addTodo.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.todos=[].concat(_toConsumableArray(state.todos),[action.payload]);}),_defineProperty(_extraReducers,__addTodo.rejected,function(state,action){state.isLoading=false;state.error=action.payload;}),_defineProperty(_extraReducers,__deleteTodo.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,__deleteTodo.fulfilled,function(state,action){state.isLoading=false;state.todos=state.todos.filter(function(todo){return todo.id!==action.payload;});}),_defineProperty(_extraReducers,__deleteTodo.rejected,function(state,action){state.isLoading=false;state.error=action.payload;}),_extraReducers)});_objectDestructuringEmpty(todosSlice.actions);export{};export default todosSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","todos","isLoading","isSuccess","error","__getTodos","payload","thunkAPI","get","data","fulfillWithValue","rejectWithValue","__addTodo","post","__deleteTodo","delete","todosSlice","name","reducers","clearTodo","state","action","extraReducers","pending","fulfilled","rejected","filter","todo","id","actions","reducer"],"sources":["/Users/JJY/Desktop/project01/src/redux/modules/todosSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n  todos: [],\n  isLoading: false,\n  isSuccess: false,\n  error: null,\n};\n\nexport const __getTodos = createAsyncThunk(\n  \"todos/getTodos\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.get(\"http://localhost:3001/todos\");\n      return thunkAPI.fulfillWithValue(data.data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const __addTodo = createAsyncThunk(\n  \"todos/addTodo\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.post(\"http://localhost:3001/todos\", payload);\n      return thunkAPI.fulfillWithValue(data.data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const __deleteTodo = createAsyncThunk(\n  \"todos/deleteTodo\",\n  async (payload, thunkAPI) => {\n    try {\n      await axios.delete(`http://localhost:3001/todos/${payload}`);\n      return thunkAPI.fulfillWithValue(payload);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\n\nexport const todosSlice = createSlice({\n  name: \"todos\",\n  initialState,\n  reducers: {\n    clearTodo: (state, action) => {\n      state.isSuccess = true\n    }\n  },\n  extraReducers: {\n    [__getTodos.pending]: (state) => {\n      state.isLoading = true; // 네트워크 요청이 시작되면 로딩상태를 true로 변경합니다.\n    },\n    [__getTodos.fulfilled]: (state, action) => {\n      state.isLoading = false; // 네트워크 요청이 끝났으니, false로 변경합니다.\n      state.todos = action.payload; // Store에 있는 todos에 서버에서 가져온 todos를 넣습니다.\n    },\n    [__getTodos.rejected]: (state, action) => {\n      state.isLoading = false; // 에러가 발생했지만, 네트워크 요청이 끝났으니, false로 변경합니다.\n      state.error = action.payload; // catch 된 error 객체를 state.error에 넣습니다.\n    },\n    [__addTodo.pending]: (state) => {\n      state.isLoading = true;\n      state.isSuccess = false;\n    },\n    [__addTodo.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.todos = [...state.todos, action.payload]\n    },\n    [__addTodo.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n    [__deleteTodo.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [__deleteTodo.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.todos = state.todos.filter((todo) => todo.id !== action.payload\n      )\n    },\n    [__deleteTodo.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n    \n  },\n});\n\nexport const {} = todosSlice.actions;\nexport default todosSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}